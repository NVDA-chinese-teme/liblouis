#!/usr/bin/make -f

LEFT_HYPHEN_MIN  = 1
RIGHT_HYPHEN_MIN = 1

all : patterns.dic

empty :
	echo "" > $@

chunked_words :
	bash dict_export_chunked_words.sh > $@

patgen_config :
	@echo " $(LEFT_HYPHEN_MIN) $(RIGHT_HYPHEN_MIN)\n\
 a A\n\
 b B\n\
 c C\n\
 d D\n\
 e E\n\
 f F\n\
 g G\n\
 h H\n\
 i I\n\
 j J\n\
 k K\n\
 l L\n\
 m M\n\
 n N\n\
 o O\n\
 p P\n\
 q Q\n\
 r R\n\
 s S\n\
 t T\n\
 u U\n\
 v V\n\
 w W\n\
 x X\n\
 y Y\n\
 z Z" > $@

patterns.tex : chunked_words empty patgen_config
	patgen chunked_words empty $@ patgen_config

patterns.dic : patterns.tex
	perl substrings.pl $< $@
	sed -i '1i UTF-8' $@

clean :
	rm -f chunked_words \
	      patgen_config \
	      empty \
	      patterns.tex \
	      patterns.dic

.PHONY : all clean
